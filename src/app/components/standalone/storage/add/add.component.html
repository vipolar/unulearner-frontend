<style>
/*    .container {
		height: 100%;
		width: 100%;
		padding: 0;
	}
*/
    .file-input {
		display: none;
	}

    form > * {
		width: 100%;
	}

    form {
        width: 100%;
    }

    .progress {
		height: max-content;
	}
</style>


<form [formGroup]="fileForm" class="container" (ngSubmit)="submit()">
	<mat-form-field appearance="fill" subscriptSizing="dynamic">
		<mat-label>Select file:</mat-label>
		<input type="file" class="file-input" formControlName="file"(change)="onSelectFileForUpload($event)" #fileInput>
        <input matInput readonly type="text" [value]="fileUploadTargetName" placeholder="No file selected...">
		<div matSuffix class="file-upload">
			<button *ngIf="!fileForm.get('file')?.value" mat-icon-button color="primary" class="upload-btn" (click)="fileInput.click()" aria-label="Select a file for upload">
				<mat-icon>{{'attach_file'}}</mat-icon>
			</button>
			<button *ngIf="fileForm.get('file')?.value" mat-icon-button color="warn" class="upload-btn" (click)="onDeselectFileForUpload()" aria-label="Deselect the currently selected file">
				<mat-icon>{{'delete_forever'}}</mat-icon>
			</button>
		</div>
	</mat-form-field>

    <mat-form-field appearance="fill" subscriptSizing="dynamic">
        <mat-label>Description:</mat-label>
        <input matInput type="text" formControlName="description" [readonly]="true" placeholder="Example description...">
        <!--mat-hint>Hint</mat-hint-->
    </mat-form-field>

    <mat-form-field appearance="fill" subscriptSizing="dynamic">
        <mat-label>Parent ID:</mat-label>
        <input matInput type="text" formControlName="parent" [readonly]="true" placeholder="Parent node ID">
        <!--mat-hint>Hint</mat-hint-->
    </mat-form-field>

	<button>Submit</button>
    <!--(click)="onCancelFileUpload()"-->

	<div class="progress" *ngIf="fileUploadProgress">
		<mat-progress-bar class="progress-bar" mode="determinate" [value]="fileUploadProgress"></mat-progress-bar>
	</div>
</form>